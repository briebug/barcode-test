## Customize the test machine
machine:
    timezone:
        America/Denver # Set the timezone

    environment:
        XCODE_WORKSPACE: "platforms/ios/barcode-test.xcworkspace"
        GYM_CODE_SIGNING_IDENTITY: "iPhone Distribution: BrieBug Software, Inc. (4CS6W5LV48)"

    xcode:
        version: 8.0

## Customize dependencies
dependencies:
    pre:
        - npm install -g typescript ionic cordova@6.4.0 ios-deploy ios-sim
        - gem update fastlane

    post:
        - mkdir www
        - ionic platform add ios

## customize test commands
test:
    override:
        - ionic build ios

deployment:
    beta_distribution:
        branch: 'develop'
        commands:
            - fastlane ios beta build_number:$CIRCLE_BUILD_NUM
            - cp -R ./dist $CIRCLE_ARTIFACTS
